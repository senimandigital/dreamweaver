<participant name="connection_includefile" version="5.0">
<quickSearch><![CDATA[# HTTP=]]></quickSearch>
<insertText location="aboveHTML+2">
<![CDATA[<?php
if (!isset($_SESSION)) { session_start(); $session_id = session_id(); }
if (define('senimandigital')) goto endcontent;
?>
<?php
# FileName="@@filename@@"
# Type="@@type@@"
# HTTP="@@http@@"
$hostname_@@cname@@ = "@@hostname@@";
$database_@@cname@@ = "@@databasename@@";
$username_@@cname@@ = "@@username@@";
$password_@@cname@@ = "@@password@@";
$@@cname@@ = mysql_pconnect($hostname_@@cname@@, $username_@@cname@@, $password_@@cname@@) or trigger_error(mysql_error(),E_USER_ERROR);

$_SERVER['DOMAIN']['ROOT']          = '@@cname@@.com/';
$_SERVER['DOMAIN']['SITE']          = 'http://phpmysource.kom';
$_SERVER['DOMAIN']['ADMINISTRATOR'] = 'http://administrator.phpmysource.kom';
$_SERVER['DOMAIN']['ALGORITMA']     = 'http://algoritma.phpmysource.kom';
$_SERVER['DOMAIN']['APLIKASI']      = 'http://aplikasi.phpmysource.kom';
$_SERVER['DOMAIN']['ARRAY']         = 'http://array.phpmysource.kom';
$_SERVER['DOMAIN']['ASSETS']        = 'http://assets.phpmysource.kom';
$_SERVER['DOMAIN']['BACKUP']        = 'http://backup.phpmysource.kom';
$_SERVER['DOMAIN']['BAT']           = 'http://bat.phpmysource.kom';
$_SERVER['DOMAIN']['BROWSER']       = 'http://browser.phpmysource.kom';
$_SERVER['DOMAIN']['BUILDER']       = 'http://builder.phpmysource.kom';
$_SERVER['DOMAIN']['CMS']           = 'http://cms.phpmysource.kom';
$_SERVER['DOMAIN']['COMPARE']       = 'http://compare.phpmysource.kom';
$_SERVER['DOMAIN']['CRON']          = 'http://cron.phpmysource.kom';
$_SERVER['DOMAIN']['CSS3']          = 'http://css3.phpmysource.kom';
$_SERVER['DOMAIN']['CURL']          = 'http://curl.phpmysource.kom';
$_SERVER['DOMAIN']['DATA']          = 'http://data.phpmysource.kom';
$_SERVER['DOMAIN']['DATABASE']      = 'http://database.phpmysource.kom';
$_SERVER['DOMAIN']['DATAXML']       = 'http://dataxml.phpmysource.kom';
$_SERVER['DOMAIN']['DESKRIPSI']     = 'http://deskripsi.phpmysource.kom';
$_SERVER['DOMAIN']['DOM']           = 'http://dom.phpmysource.kom';
$_SERVER['DOMAIN']['DREAMWEAVER']   = 'http://dreamweaver.phpmysource.kom';
$_SERVER['DOMAIN']['DROPBOX']       = 'http://dropbox.phpmysource.kom';
$_SERVER['DOMAIN']['EXTENSIONS']    = 'http://extensions.phpmysource.kom';
$_SERVER['DOMAIN']['FILE']          = 'http://file.phpmysource.kom';
$_SERVER['DOMAIN']['FILEZILLA']     = 'http://filezilla.phpmysource.kom';
$_SERVER['DOMAIN']['FOLDER']        = 'http://folder.phpmysource.kom';
$_SERVER['DOMAIN']['FORM']          = 'http://form.phpmysource.kom';
$_SERVER['DOMAIN']['FTP']           = 'http://ftp.phpmysource.kom';
$_SERVER['DOMAIN']['GAMBAR']        = 'http://gambar.phpmysource.kom';
$_SERVER['DOMAIN']['GITHUB']        = 'http://github.phpmysource.kom';
$_SERVER['DOMAIN']['HEADER']        = 'http://header.phpmysource.kom';
$_SERVER['DOMAIN']['IMAGE']         = 'http://image.phpmysource.kom';
$_SERVER['DOMAIN']['JAVASCRIPT']    = 'http://javascript.phpmysource.kom';
$_SERVER['DOMAIN']['JOBLIST']       = 'http://joblist.phpmysource.kom';
$_SERVER['DOMAIN']['LIBRARY']       = 'http://Library.phpmysource.kom';
$_SERVER['DOMAIN']['LINE']          = 'http://line.phpmysource.kom';
$_SERVER['DOMAIN']['PHPMYADMIN']    = 'http://phpmyadmin.phpmysource.kom';
$_SERVER['DOMAIN']['POINTER']       = 'http://pointer.phpmysource.kom';
$_SERVER['DOMAIN']['PRODUK']        = 'http://produk.phpmysource.kom';
$_SERVER['DOMAIN']['PROGRAMMER']    = 'http://programmer.phpmysource.kom';
$_SERVER['DOMAIN']['PROYEK']        = 'http://proyek.phpmysource.kom';
$_SERVER['DOMAIN']['REGEX']         = 'http://regex.phpmysource.kom';
$_SERVER['DOMAIN']['SOURCE']        = 'http://source.phpmysource.kom';
$_SERVER['DOMAIN']['SOURCEFORGE']   = 'http://sourceforge.phpmysource.kom';
$_SERVER['DOMAIN']['STRING']        = 'http://string.phpmysource.kom';
$_SERVER['DOMAIN']['SVG']           = 'http://svg.phpmysource.kom';
$_SERVER['DOMAIN']['SYMLINK']       = 'http://symlink.phpmysource.kom';
$_SERVER['DOMAIN']['SYNKRON']       = 'http://synkron.phpmysource.kom';
$_SERVER['DOMAIN']['TEMPLATES']     = 'http://Templates.phpmysource.kom';
$_SERVER['DOMAIN']['UPLOAD']        = 'http://upload.phpmysource.kom';
$_SERVER['DOMAIN']['VIRTUAL']       = 'http://virtual.phpmysource.kom';
$_SERVER['DOMAIN']['WEBTOOL']       = 'http://webtool.phpmysource.kom';
$_SERVER['DOMAIN']['XML']           = 'http://xml.phpmysource.kom';

$_SERVER['HOSTING']['ROOT']          = 'D:/Online/Google Drive/phpmysource.kom/';
$_SERVER['HOSTING']['ADMINISTRATOR'] = 'D:/Online/Google Drive/phpmysource.kom/administrator/';
$_SERVER['HOSTING']['ALGORITMA']     = 'D:/Online/Google Drive/phpmysource.kom/algoritma/';
$_SERVER['HOSTING']['APLIKASI']      = 'D:/Online/Google Drive/phpmysource.kom/aplikasi/';
$_SERVER['HOSTING']['ARRAY']         = 'D:/Online/Google Drive/phpmysource.kom/array/';
$_SERVER['HOSTING']['ASSETS']        = 'D:/Online/Google Drive/phpmysource.kom/assets/';
$_SERVER['HOSTING']['BACKUP']        = 'D:/Online/Google Drive/phpmysource.kom/backup/';
$_SERVER['HOSTING']['BAT']           = 'D:/Online/Google Drive/phpmysource.kom/bat/';
$_SERVER['HOSTING']['BROWSER']       = 'D:/Online/Google Drive/phpmysource.kom/browser/';
$_SERVER['HOSTING']['BUILDER']       = 'D:/Online/Google Drive/phpmysource.kom/builder/';
$_SERVER['HOSTING']['CMS']           = 'D:/Online/Google Drive/phpmysource.kom/cms/';
$_SERVER['HOSTING']['COMPARE']       = 'D:/Online/Google Drive/phpmysource.kom/compare/';
$_SERVER['HOSTING']['CRON']          = 'D:/Online/Google Drive/phpmysource.kom/cron/';
$_SERVER['HOSTING']['CSS3']          = 'D:/Online/Google Drive/phpmysource.kom/css3/';
$_SERVER['HOSTING']['CURL']          = 'D:/Online/Google Drive/phpmysource.kom/curl/';
$_SERVER['HOSTING']['DATA']          = 'D:/Online/Google Drive/phpmysource.kom/data/';
$_SERVER['HOSTING']['DATABASE']      = 'D:/Online/Google Drive/phpmysource.kom/database/';
$_SERVER['HOSTING']['DATAXML']       = 'D:/Online/Google Drive/phpmysource.kom/dataxml/';
$_SERVER['HOSTING']['DESKRIPSI']     = 'D:/Online/Google Drive/phpmysource.kom/deskripsi/';
$_SERVER['HOSTING']['DOM']           = 'D:/Online/Google Drive/phpmysource.kom/dom/';
$_SERVER['HOSTING']['DREAMWEAVER']   = 'D:/Online/Google Drive/phpmysource.kom/dreamweaver/';
$_SERVER['HOSTING']['DROPBOX']       = 'D:/Online/Google Drive/phpmysource.kom/dropbox/';
$_SERVER['HOSTING']['EXTENSIONS']    = 'D:/Online/Google Drive/phpmysource.kom/extensions/';
$_SERVER['HOSTING']['FILE']          = 'D:/Online/Google Drive/phpmysource.kom/file/';
$_SERVER['HOSTING']['FILEZILLA']     = 'D:/Online/Google Drive/phpmysource.kom/filezilla/';
$_SERVER['HOSTING']['FOLDER']        = 'D:/Online/Google Drive/phpmysource.kom/folder/';
$_SERVER['HOSTING']['FORM']          = 'D:/Online/Google Drive/phpmysource.kom/form/';
$_SERVER['HOSTING']['FTP']           = 'D:/Online/Google Drive/phpmysource.kom/ftp/';
$_SERVER['HOSTING']['GAMBAR']        = 'D:/Online/Google Drive/phpmysource.kom/gambar/';
$_SERVER['HOSTING']['GITHUB']        = 'D:/Online/Google Drive/phpmysource.kom/github/';
$_SERVER['HOSTING']['HEADER']        = 'D:/Online/Google Drive/phpmysource.kom/header/';
$_SERVER['HOSTING']['IMAGE']         = 'D:/Online/Google Drive/phpmysource.kom/image/';
$_SERVER['HOSTING']['JAVASCRIPT']    = 'D:/Online/Google Drive/phpmysource.kom/javascript/';
$_SERVER['HOSTING']['JOBLIST']       = 'D:/Online/Google Drive/phpmysource.kom/joblist/';
$_SERVER['HOSTING']['LIBRARY']       = 'D:/Online/Google Drive/phpmysource.kom/Library/';
$_SERVER['HOSTING']['LINE']          = 'D:/Online/Google Drive/phpmysource.kom/line/';
$_SERVER['HOSTING']['PHPMYADMIN']    = 'D:/Online/Google Drive/phpmysource.kom/phpmyadmin/';
$_SERVER['HOSTING']['POINTER']       = 'D:/Online/Google Drive/phpmysource.kom/pointer/';
$_SERVER['HOSTING']['PRODUK']        = 'D:/Online/Google Drive/phpmysource.kom/produk/';
$_SERVER['HOSTING']['PROGRAMMER']    = 'D:/Online/Google Drive/phpmysource.kom/programmer/';
$_SERVER['HOSTING']['PROYEK']        = 'D:/Online/Google Drive/phpmysource.kom/proyek/';
$_SERVER['HOSTING']['REGEX']         = 'D:/Online/Google Drive/phpmysource.kom/regex/';
$_SERVER['HOSTING']['SOURCE']        = 'D:/Online/Google Drive/phpmysource.kom/source/';
$_SERVER['HOSTING']['SOURCEFORGE']   = 'D:/Online/Google Drive/phpmysource.kom/sourceforge/';
$_SERVER['HOSTING']['STRING']        = 'D:/Online/Google Drive/phpmysource.kom/string/';
$_SERVER['HOSTING']['SVG']           = 'D:/Online/Google Drive/phpmysource.kom/svg/';
$_SERVER['HOSTING']['SYMLINK']       = 'D:/Online/Google Drive/phpmysource.kom/symlink/';
$_SERVER['HOSTING']['SYNKRON']       = 'D:/Online/Google Drive/phpmysource.kom/synkron/';
$_SERVER['HOSTING']['TEMPLATES']     = 'D:/Online/Google Drive/phpmysource.kom/Templates/';
$_SERVER['HOSTING']['UPLOAD']        = 'D:/Online/Google Drive/phpmysource.kom/upload/';
$_SERVER['HOSTING']['VIRTUAL']       = 'D:/Online/Google Drive/phpmysource.kom/virtual/';
$_SERVER['HOSTING']['WEBTOOL']       = 'D:/Online/Google Drive/phpmysource.kom/webtool/';
$_SERVER['HOSTING']['XML']           = 'D:/Online/Google Drive/phpmysource.kom/xml/';

$_SERVER['META']['TITLE']       = '@@cname@@.com';

if (!function_exists("GetSQLValueString")) {
function GetSQLValueString($theValue, $theType, $theDefinedValue = "", $theNotDefinedValue = "")
{
  if (PHP_VERSION < 6) {
    $theValue = get_magic_quotes_gpc() ? stripslashes($theValue) : $theValue;
  }

  $theValue = function_exists("mysql_real_escape_string") ? mysql_real_escape_string($theValue) : mysql_escape_string($theValue);

  switch ($theType) {
    case "text":
      $theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";
      break;
    case "long":
    case "int":
      $theValue = ($theValue != "") ? intval($theValue) : "NULL";
      break;
    case "double":
      $theValue = ($theValue != "") ? doubleval($theValue) : "NULL";
      break;
    case "date":
      $theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";
      break;
    case "defined":
      $theValue = ($theValue != "") ? $theDefinedValue : $theNotDefinedValue;
      break;
  }
  return $theValue;
}
}

//stoping xss,union and clike injection
if  (!function_exists('stripos'))
    {
     function stripos_clone($haystack, $needle, $offset=0)
              {
               $return = strpos(strtoupper($haystack), strtoupper($needle), $offset);
               if ($return === false) { return false; } else { return true; }
              }
    }
else{
     // But when this is PHP5, we use the original function
     function stripos_clone($haystack, $needle, $offset=0) {
       $return = stripos($haystack, $needle, $offset=0);
       if  ($return === false) { return false; }
       else{ return true; }
      }
    }

if (isset($_SERVER['QUERY_STRING']) && (!stripos_clone($_SERVER['QUERY_STRING'], "ad_click")))
   {
    $queryString = $_SERVER['QUERY_STRING'];
    if (stripos_clone($queryString,'%20union%20') OR stripos_clone($queryString,'/*') OR stripos_clone($queryString,'*/union/*') OR stripos_clone($queryString,'c2nyaxb0') OR stripos_clone($queryString,'+union+') OR (stripos_clone($queryString,'cmd=') AND !stripos_clone($queryString,'&cmd')) OR (stripos_clone($queryString,'exec') AND !stripos_clone($queryString,'execu')) OR stripos_clone($queryString,'concat'))
       {
        die('Illegal Operation');
       }
   }

$loginFormAction = $_SERVER['PHP_SELF'];
if (isset($_GET['accesscheck']))
   {
    $_SESSION['PrevUrl'] = $_GET['accesscheck'];
   }

if (isset($_POST['username']))
   {
    $loginUsername = $_POST['username'];
    $password      = $_POST['password'];
    $MM_fldUserAuthorization = "";
    $MM_redirectLoginSuccess = "";
    $MM_redirectLoginFailed  = "anggota/login/";
    $MM_redirecttoReferrer   = true;
    mysql_select_db($database_@@cname@@, $@@cname@@);

    $LoginRS__query=sprintf("SELECT anggota_username,
                                    anggota_password
                             FROM   anggota
                             WHERE  anggota_username='%s'
                             AND    anggota_password='%s'",
    get_magic_quotes_gpc() ? $loginUsername : addslashes($loginUsername), get_magic_quotes_gpc() ? $password : addslashes($password));

    $LoginRS        = mysql_query($LoginRS__query, $@@cname@@) or die(mysql_error());
    $loginFoundUser = mysql_num_rows($LoginRS);
    if ($loginFoundUser)
       {
         $loginStrGroup = "";
         $_SESSION['MM_Username']  = $loginUsername;
         $_SESSION['MM_UserGroup'] = $loginStrGroup;
         $_SESSION['MM_SessionId'] = $session_id;

         $sessionusername_anggota = "-1";
         if (isset($_SESSION['MM_Username']))
            {
             $sessionusername_anggota = (get_magic_quotes_gpc()) ? $_SESSION['MM_Username'] : addslashes($_SESSION['MM_Username']);
            }
         mysql_select_db($database_@@cname@@, $@@cname@@);
         $query_anggota = sprintf("SELECT anggota.anggota_id, anggota_level.anggota_level_alias FROM anggota INNER JOIN anggota_level ON anggota_level.anggota_level_id = anggota.anggota_level_id WHERE anggota.anggota_username = '%s'", $sessionusername_anggota);
         $anggota = mysql_query($query_anggota, $@@cname@@) or die(mysql_error());
         $row_anggota = mysql_fetch_assoc($anggota);
         $totalRows_anggota = mysql_num_rows($anggota);

         mysql_select_db($database_@@cname@@, $@@cname@@);
         $query_ambil_tanggal = "SELECT UNIX_TIMESTAMP(DATE_ADD(NOW(), INTERVAL 1 HOUR)) AS kadaluarsa";
         $ambil_tanggal = mysql_query($query_ambil_tanggal, $@@cname@@) or die(mysql_error());
         $row_ambil_tanggal = mysql_fetch_assoc($ambil_tanggal);
         $totalRows_ambil_tanggal = mysql_num_rows($ambil_tanggal);

         $sessionid_session = "-1";
         if (isset($session_id))
            {
             $sessionid_session = (get_magic_quotes_gpc()) ? $session_id : addslashes($session_id);
            }
         mysql_select_db($database_@@cname@@, $@@cname@@);
         $query_session = sprintf("SELECT sessions.session_id FROM sessions WHERE sessions.session_id = '%s'", $sessionid_session);
         $session = mysql_query($query_session, $@@cname@@) or die(mysql_error());
         $row_session = mysql_fetch_assoc($session);
         $totalRows_session = mysql_num_rows($session);

         if ($totalRows_session == 0)
            {
             $sessionSQL = "INSERT sessions
                            SET    session_expiration = '". $row_ambil_tanggal['kadaluarsa'] ."',
                                   session_domain     = 'site',
                                   session_id         = '". $session_id ."',
                                   anggota_id         = '". $row_anggota['anggota_id'] ."'
                           ";
            }
         if ($totalRows_session > 0)
            {
             $sessionSQL = "UPDATE sessions
                            SET    session_expiration = '". $row_ambil_tanggal['kadaluarsa'] ."',
                                   session_domain     = 'site',
                                   anggota_id         = '". $row_anggota['anggota_id'] ."'
                            WHERE  session_id         = '". $session_id ."'
                           ";
            }
         mysql_select_db($database_@@cname@@, $@@cname@@);
         $Result1 = mysql_query($sessionSQL, $@@cname@@) or die(mysql_error());
         $_SESSION['MM_UserGroup'] = $row_anggota['anggota_level_alias'];

         if (isset($_SESSION['PrevUrl']) && true)
            {
             $MM_redirectLoginSuccess = $_SESSION['PrevUrl'];
            }
         header("Location: " . $MM_redirectLoginSuccess );
        }
    else{
         header("Location: ". $MM_redirectLoginFailed );
        }
   }

if ((isset($_GET['Logout'])) && ($_GET['Logout']=="true"))
   {
    $sessionusername_anggota_login = "-1";
    if  (isset($_SESSION['MM_Username']))
        {
         $sessionusername_anggota_login = (get_magic_quotes_gpc()) ? $_SESSION['MM_Username'] : addslashes($_SESSION['MM_Username']);
        }
    mysql_select_db($database_@@cname@@, $@@cname@@);
    $query_anggota_login = sprintf("SELECT anggota.anggota_id FROM anggota WHERE anggota.anggota_username = '%s'", $sessionusername_anggota_login);
    $anggota_login = mysql_query($query_anggota_login, $@@cname@@) or die(mysql_error());
    $row_anggota_login = mysql_fetch_assoc($anggota_login);
    $totalRows_anggota_login = mysql_num_rows($anggota_login);

    $deleteSQL = "DELETE
                  FROM  sessions
                  WHERE anggota_id = '". $row_anggota_login['anggota_id'] ."'
                 ";
    mysql_select_db($database_@@cname@@, $@@cname@@);
    $Result1 = mysql_query($deleteSQL, $@@cname@@) or die(mysql_error());

    unset($_SESSION['MM_Username']);
    unset($_SESSION['MM_UserGroup']);
    unset($_SESSION['PrevUrl']);
    unset($_SESSION['MM_SessionId']);

    $logoutGoTo = "". $WEBSITE['DOMAIN']['SITE'] ."";
    if ($logoutAction) { $logoutGoTo = $logoutAction; }
    if ($logoutGoTo)   { header("Location: $logoutGoTo"); exit; }
  }

if(isset($_SESSION['MM_Username']) && isset($_SESSION['MM_SessionId']))
  {
   $query_anggota = "SELECT anggota.anggota_id, anggota.anggota_realname
                     FROM   anggota
                     WHERE  anggota.anggota_username = '". $_SESSION['MM_Username'] ."'
                    ";
   mysql_select_db($database_@@cname@@, $@@cname@@);
   $anggota = mysql_query($query_anggota, $@@cname@@) or die(mysql_error());
   $row_anggota = mysql_fetch_assoc($anggota);
   $totalRows_anggota = mysql_num_rows($anggota);

   if($totalRows_anggota > 0)
     {
      $query_session = "SELECT MAX(session_expiration) as session_expiration
                        FROM   sessions
                        WHERE  anggota_id = '". $row_anggota['anggota_id'] ."'
                       ";
      mysql_select_db($database_@@cname@@, $@@cname@@);
      $session = mysql_query($query_session, $@@cname@@) or die(mysql_error());
      $row_session = mysql_fetch_assoc($session);
      $totalRows_session = mysql_num_rows($session);

      $query_session = "SELECT *
                        FROM  sessions
                        WHERE session_id         = '". $_SESSION['MM_SessionId'] ."'
                        AND   session_expiration > UNIX_TIMESTAMP(NOW())
                       ";
      mysql_select_db($database_@@cname@@, $@@cname@@);
      $session = mysql_query($query_session, $@@cname@@) or die(mysql_error());
      $row_session = mysql_fetch_assoc($session);
      $totalRows_session = mysql_num_rows($session);

      if ($totalRows_session == 0)
         {
            unset($_SESSION['MM_Username']);
            unset($_SESSION['MM_UserGroup']);
            unset($_SESSION['PrevUrl']);
            unset($_SESSION['MM_SessionId']);
            $logoutGoTo = "". $WEBSITE['DOMAIN']['SITE'] ."";
            if($logoutGoTo) { header("Location: $logoutGoTo"); exit; }
         }

      if (($totalRows_session > 0) && ($row_session['anggota_id'] == $row_anggota['anggota_id']))
         {
          $query_ambil_tanggal = "SELECT UNIX_TIMESTAMP(DATE_ADD(NOW(), INTERVAL 1 HOUR)) AS kadaluarsa";
          mysql_select_db($database_@@cname@@, $@@cname@@);
          $ambil_tanggal = mysql_query($query_ambil_tanggal, $@@cname@@) or die(mysql_error());
          $row_ambil_tanggal = mysql_fetch_assoc($ambil_tanggal);
          $totalRows_ambil_tanggal = mysql_num_rows($ambil_tanggal);

          $updateSQL = "UPDATE sessions
                        SET    session_expiration = '". $row_ambil_tanggal['kadaluarsa'] ."'
                        WHERE  anggota_id         = '". $row_anggota['anggota_id'] ."'
                       ";
          mysql_select_db($database_@@cname@@, $@@cname@@);
          $Result1 = mysql_query($updateSQL, $@@cname@@) or die(mysql_error());
         }
     $row_anggota_session       = $row_anggota;
     $totalRows_anggota_session = $totalRows_session;
    }
  }

function bulan_indo($date)      { $date = str_pad($date, 2 ,"0", STR_PAD_LEFT); $bln_array = array ('01'=>'Januari', '02'=>'Februari', '03'=>'Maret', '04'=>'April', '05'=>'Mei', '06'=>'Juni', '07'=>'Juli',    '08'=>'Agustus',  '09'=>'September', '10'=>'Oktober', '11'=>'November', '12'=>'Desember' ); return $bln_array[$date]; }
function tanggal_indo($tanggal) { $array_tanggal = explode('-', $tanggal); return $array_tanggal[2] .' '. bulan_indo($array_tanggal[1]) .' '. $array_tanggal[0]; }
function include_class($class)  {
if (!class_exists($class) && file_exists($WEBSITE['HOSTTING']['ASSETS'] .'class/'. $class .'.php')) {
    include $WEBSITE['HOSTTING']['ASSETS'] .'class/'. $class .'.php';
    // eval('class '.$class.' extends '.$prototype.' {}');
}}

/* @ Awal - Jika hanya merequest element, untuk kasus external request @ */ 
if     ($_GET['getElementById']) {
ob_start(); 
if (strtolower($_SERVER['SCRIPT_FILENAME']) == strtolower($WEBSITE['HOSTING']['ROOT'] .'index.php')) { 
include $WEBSITE['HOSTING']['TEMPLATES'] .'php/home.php';  } else { include $_SERVER['SCRIPT_FILENAME']; }
$WEBSITE['SCRIPT']['HTML'] = ob_get_contents(); ob_end_clean();
$dom = new DOMDocument();    $dom->loadHTML($WEBSITE['SCRIPT']['HTML']);   $xpath = new DOMXPath($dom);
echo $WEBSITE['SCRIPT']['HTML'] = $dom->getElementById($_GET['getElementById'])->C14N();
exit;
}
elseif ($_GET['getElementsByTagName']) {
ob_start(); 
if (strtolower($_SERVER['SCRIPT_FILENAME']) == strtolower($WEBSITE['HOSTING']['ROOT'] .'index.php')) { 
include $WEBSITE['HOSTING']['TEMPLATES'] .'php/home.php';  } else { include $_SERVER['SCRIPT_FILENAME']; }
$WEBSITE['SCRIPT']['HTML'] = ob_get_contents(); ob_end_clean();
$dom = new DOMDocument();    $dom->loadHTML($WEBSITE['SCRIPT']['HTML']);   $xpath = new DOMXPath($dom);
$WEBSITE['SCRIPT']['HTML'] = $dom->saveHTML($dom->getElementsByTagName('form')->item(0));
echo $WEBSITE['SCRIPT']['HTML'];
exit;
}
/* @ Akhir - Jika hanya merequest element untuk kasus external request @ */

$script  = file_get_contents($_SERVER['SCRIPT_FILENAME']);
if (strtolower($_SERVER['SCRIPT_FILENAME']) == strtolower($WEBSITE['HOSTING']['ROOT'] .'index.php')) {
$script = file_get_contents($WEBSITE['HOSTING']['TEMPLATES'] .'php/home.php');
}

preg_match_all('%<textarea.*?data-format="html".*?name="(.*?)".*?>%s', $script, $input_date);
if ($input_date[1][0]) {
  $WEBSITE['BODY']['ATTRIBUTE'] .= 'onload="';
foreach($input_date[1] as $key => $value) {
  $WEBSITE['BODY']['ATTRIBUTE'] .= 'xmlhttpPost(\''. $WEBSITE['DOMAIN']['SITE'] .'\');';
} $WEBSITE['BODY']['ATTRIBUTE'] .= '"';
}

preg_match_all('%<textarea.*?data-format="html".*?name="(.*?)".*?>%s', $script, $input_date);
if ($input_date[1][0]) {
$WEBSITE['SCRIPT']['HEADER'] .= '<script type="text/javascript" src="'. $WEBSITE['DOMAIN']['ASSETS'] .'tinymce/4.0.26/tinymce.min.js"></script>
<script type="text/javascript"> tinyMCE.init({ mode : "exact", elements : "' . implode(',', $input_date[1]) . '" }); </script>';
}

preg_match_all('%<.*?rule="menu".*?id="(.*?)".*?>%s', $script, $input_date);
if ($input_date[1][0]) {
$WEBSITE['SCRIPT']['HEADER'] .= '
<script src="'. $WEBSITE['DOMAIN']['ASSETS'] .'jquery/ui/jquery.ui.core.js"></script>
<script src="'. $WEBSITE['DOMAIN']['ASSETS'] .'jquery/ui/jquery.ui.widget.js"></script>
<script src="'. $WEBSITE['DOMAIN']['ASSETS'] .'jquery/ui/jquery.ui.position.js"></script>
<script src="'. $WEBSITE['DOMAIN']['ASSETS'] .'jquery/ui/jquery.ui.menu.js"></script>
<script> $(function() { ';
foreach($input_date[1] as $key => $value) {
$WEBSITE['SCRIPT']['HEADER'] .= ' $("#'. $value .'").menu();
';
}
$WEBSITE['SCRIPT']['HEADER'] .= "\n});\n</script>";
}

preg_match_all('%<.*?data-transition="fade".*?id="(.*?)".*?>%s', $script, $input_date);
if ($input_date[1][0]) { 
$WEBSITE['SCRIPT']['HEADER'] .= "<script>\n$(function() { ";
foreach($input_date[1] as $key => $value) {
$WEBSITE['SCRIPT']['HEADER'] .= '
$("#'. $value .' > li:gt(0)").hide(); setInterval(function() { 
$("#'. $value .' > li:first").fadeOut(0).next().fadeIn(1000).end().appendTo("#'. $value .'"); }, 10000); ';
}
$WEBSITE['SCRIPT']['HEADER'] .= "});\n</script>";
}

preg_match_all('%<.*?data-filter="true".*?id="(.*?)".*?>%s', $script, $input_date);
if ($input_date[1][0]) {
$WEBSITE['SCRIPT']['HEADER'] .= '<script> $(function() { ';
foreach($input_date[1] as $key => $value) {
 $WEBSITE['SCRIPT']['HEADER'] .= ' $( "#'. $value .'_search_input" ).fastLiveFilter( "#'. $value .'" ); ';
}
$WEBSITE['SCRIPT']['HEADER'] .= ' }); </script>';
}

if (!strstr(strtolower($_SERVER['HTTP_USER_AGENT']), 'chrome')) {
preg_match_all('%<input.*?type="date".*?name="(.*?)".*?>%s', $script, $input_date);
$WEBSITE['SCRIPT']['HEADER'] .= '
<link  href="'. $WEBSITE['DOMAIN']['ASSETS'] .'jquery/themes/base/jquery.ui.all.css" rel="stylesheet">
<script src="'. $WEBSITE['DOMAIN']['ASSETS'] .'jquery/ui/jquery.ui.datepicker.js"></script>
<script> $(function() { ';
foreach($input_date[1] as $key => $value) {
//preg_match_all('%min="(.*?)"%s', $value, $min);
//preg_match_all('%max="(.*?)"%s', $value, $max);
$WEBSITE['SCRIPT']['HEADER'] .= ' $("#'. $value .'").datepicker({ showWeek: true, firstDay: 1, dateFormat: "yy-mm-dd"'. $min . $max .'});
';
}
$WEBSITE['SCRIPT']['HEADER'] .= "\n }); \n</script>";
}

include $WEBSITE['HOSTING']['TEMPLATES'] .'php/index.php';

// aktifkan komentar jika ingin memodifikasi html sebelum dikirim ke browser klient
define('senimandigital', true);   ob_start(); 
if (strtolower($_SERVER['SCRIPT_FILENAME']) == strtolower($WEBSITE['HOSTING']['ROOT'] .'index.php')) { 
include $WEBSITE['HOSTING']['TEMPLATES'] .'php/home.php';  } else { include $_SERVER['SCRIPT_FILENAME']; }
$WEBSITE['SCRIPT']['HTML'] = ob_get_contents(); ob_end_clean();

preg_match_all('~<!-- include_form "(.*?)" "(.*?)" -->~', $WEBSITE['SCRIPT']['HTML'], $replace);
if ($replace[1][0]) {
foreach($replace[1] as $key => $value) {
ob_start(); include $_SERVER['DOCUMENT_ROOT'] . $value;
  preg_match_all('%<td role="article".*?(<form.*?name="'. $replace[2][$key] .'".*?>)(.*?)(<\/form>).*?<\/td>%s', ob_get_contents(), $FORM); 
  preg_match_all('%name="(.*?)"%s', $FORM[2][0], $INPUT); 
  preg_match_all('%for="(.*?)"%s',  $FORM[2][0], $FOR); 
ob_end_clean();
}

$FORMULIR  = $FORM[1][0] . '<table>';
$dom = new DOMDocument();   $dom->loadHTML($FORM[0][0]);   $xpath = new DOMXPath($dom);
foreach(array_intersect($FOR[1], $INPUT[1]) as $key => $value) {
  $FORMULIR .= '<tr><td>'
            .  $dom->saveHTML($xpath->query('//*[@for="'. $value.'"]')->item(0))
			.  $dom->saveHTML($xpath->query('//*[@name="'. $value.'"]')->item(0))
            .  '</td></tr>';
}
$FORMULIR .= $dom->saveHTML($xpath->query('//caption[@align="bottom"]')->item(0));
$FORMULIR .= '</table>' . $FORM[3][0];

$WEBSITE['SCRIPT']['HTML'] = str_replace($replace[0], $FORMULIR, $WEBSITE['SCRIPT']['HTML']);
if (isset($_GET['dom'])) {
 $dom = new DOMDocument();    $dom->loadHTML($WEBSITE['SCRIPT']['HTML']);   $xpath = new DOMXPath($dom);
 $WEBSITE['SCRIPT']['HTML'] = $dom->saveHTML($xpath->query('//td[@role="article"]')->item(0));
}
if (isset($_GET['popup'])) {
 $dom = new DOMDocument();     $dom->loadHTML($WEBSITE['SCRIPT']['HTML']);   $xpath = new DOMXPath($dom);
 $WEBSITE['SCRIPT']['HTML']  = str_replace($dom->saveHTML($xpath->query('//td[@role="aside"]')->item(0)),
                                       '', $dom->saveHTML($xpath->query('/')->item(0)));
}
}
echo $WEBSITE['SCRIPT']['HTML'];

endcontent: exit;
?>]]>
  </insertText>
  <searchPatterns whereToSearch="directive">
    <searchPattern paramNames="filename"><![CDATA[/FileName="([^"]*)"/]]></searchPattern>
    <searchPattern paramNames="type"><![CDATA[/Type="(\w*)"/]]></searchPattern>
    <searchPattern paramNames="http"><![CDATA[/HTTP="(\w*)"/]]></searchPattern>
    <searchPattern paramNames="cname,hostname">    <![CDATA[/\$hostname_(\w*) = "([^"]*)";/]]></searchPattern>
    <searchPattern paramNames="cname,databasename"><![CDATA[/\$database_(\w*) = "([^"]*)";/]]></searchPattern>
    <searchPattern paramNames="cname,username">    <![CDATA[/\$username_(\w*) = "([^"]*)";/]]></searchPattern>
    <searchPattern paramNames="cname,password">    <![CDATA[/\$password_(\w*) = "([^"]*)";/]]></searchPattern>
    <searchPattern paramNames="cname" isOptional="true" limitSearch="all"><![CDATA[/\$([^\r\n]*?) = mysql_pconnect\(\$hostname_[^\r\n]*?, \$username_[^\r\n]*?, \$password_[^\r\n]*?\) or /]]></searchPattern>
  </searchPatterns>
</participant>
